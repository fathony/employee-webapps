<form class="form w-100" [formGroup]="addEmployeeForm" novalidate="novalidate" id="kt_login_signin_form"
      (ngSubmit)="onSubmit()">
  <div class="page-title d-flex flex-column justify-content-center flex-wrap mb-6">
    <h1 class="page-heading d-flex text-dark fw-bold fs-1 flex-column justify-content-center my-0">
      Add Employee
    </h1>
    <ul class="breadcrumb breadcrumb-separatorless fw-semibold fs-7 my-0 pt-1">
      <li class="breadcrumb-item text-dark">
        <a routerLink="/" class="text-dark text-hover-primary cursor-pointer">Home</a>
      </li>
      <span class="breadcrumb-item fw-bold text-muted"> / </span>
      <li class="breadcrumb-item text-muted">
        <a routerLink="/employee/list" class="text-dark text-hover-primary cursor-pointer">Employee</a>
      </li>
      <span class="breadcrumb-item fw-bold text-muted"> / </span>
      <li class="breadcrumb-item text-muted">Add</li>
    </ul>
  </div>

  <div class="row gy-5 gx-xl-8">
    <div class="col-12">
      <div class="card">
        <div class="card-body">
          <div class="row">
            <div class="col-12 col-md-4 col-lg-3 col-xl-3">
              <div class="fv-row mb-6">
                <label class="required fs-5 fw-bold mb-1">Username</label>
                <input
                  type="text"
                  placeholder="Input Username"
                  class="form-control"
                  autocomplete="off"
                  formControlName="username"
                />
                <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
                  validation: 'required',
                  message: 'Username is required',
                  control: addEmployeeForm.controls['username']
                }"></ng-container>
                <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
                  validation: 'minlength',
                  message: 'Username should have at least 6 character',
                  control: addEmployeeForm.controls['username']
                }"></ng-container>
                <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
                  validation: 'maxLength',
                  message: 'Username should have maximum 255 character',
                  control: addEmployeeForm.controls['username']
                }"></ng-container>
              </div>
            </div>
            <div class="col-12 col-md-4 col-lg-3 col-xl-3">
              <div class="fv-row mb-6">
                <label class="required fs-5 fw-bold mb-1">First Name</label>
                <input
                  type="text"
                  placeholder="Input First Name"
                  class="form-control"
                  autocomplete="off"
                  formControlName="firstName"
                />
                <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
                  validation: 'required',
                  message: 'First Name is required',
                  control: addEmployeeForm.controls['firstName']
                }"></ng-container>
              </div>
            </div>
            <div class="col-12 col-md-4 col-lg-3 col-xl-3">
              <div class="fv-row mb-6">
                <label class="required fs-5 fw-bold mb-1">Last Name</label>
                <input
                  type="text"
                  placeholder="Input Last Name"
                  class="form-control"
                  autocomplete="off"
                  formControlName="lastName"
                />
                <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
                  validation: 'required',
                  message: 'Last Name is required',
                  control: addEmployeeForm.controls['lastName']
                }"></ng-container>
              </div>
            </div>
            <div class="col-12 col-md-4 col-lg-3 col-xl-3">
              <div class="fv-row mb-6">
                <label class="required fs-5 fw-bold mb-1">Email</label>
                <input
                  type="text"
                  placeholder="Input Email"
                  class="form-control"
                  autocomplete="off"
                  formControlName="email"
                />
                <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
                  validation: 'required',
                  message: 'Email is required',
                  control: addEmployeeForm.controls['email']
                }"></ng-container>
                <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
                  validation: 'email',
                  message: 'Invalid email format',
                  control: addEmployeeForm.controls['email']
                }"></ng-container>
              </div>
            </div>

          </div>

          <div class="row">
            <div class="col-12 col-md-4 col-lg-3 col-xl-3">
              <div class="fv-row mb-6">
                <label class="required fs-5 fw-bold mb-1">Birth Date</label>
                <p-calendar
                  formControlName="birthDate"
                  [showTime]="true"
                  [showSeconds]="true"
                  [maxDate]="maxDate"
                  dataType="string"
                  placeholder="Select Date Time"
                  dateFormat="dd-mm-yy"
                ></p-calendar>
                <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
                  validation: 'required',
                  message: 'Birth date is required',
                  control: addEmployeeForm.controls['birthDate']
                }"></ng-container>
              </div>
            </div>
            <div class="col-12 col-md-4 col-lg-3 col-xl-3">
              <div class="fv-row mb-6">
                <label class="required fs-5 fw-bold mb-1">Basic Salary</label>
                <p-inputNumber
                  formControlName="basicSalary"
                  mode="decimal"
                  [useGrouping]="false"
                  inputStyleClass="form-control"
                  class="d-grid"
                  placeholder="Input Basic Salary"
                >
                </p-inputNumber>
                <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
                  validation: 'required',
                  message: 'Basic salary is required',
                  control: addEmployeeForm.controls['basicSalary']
                }"></ng-container>
                <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
                  validation: 'min',
                  message: 'Basic salary must be more than 0',
                  control: addEmployeeForm.controls['basicSalary']
                }"></ng-container>
              </div>
            </div>
            <div class="col-12 col-md-4 col-lg-3 col-xl-3">
              <div class="fv-row mb-6">
                <label class="required fs-5 fw-bold mb-1">Status</label>
                <p-dropdown
                  [options]="statuses"
                  [showClear]="false"
                  [filter]="true"
                  filterBy="name"
                  optionLabel="name"
                  optionValue="code"
                  placeholder="Select status"
                  formControlName="status"
                >
                </p-dropdown>
                <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
                  validation: 'required',
                  message: 'Status is required',
                  control: addEmployeeForm.controls['status']
                }"></ng-container>
              </div>
            </div>
            <div class="col-12 col-md-4 col-lg-3 col-xl-3">
              <div class="fv-row mb-6">
                <label class="required fs-5 fw-bold mb-1">Group</label>
                <p-dropdown
                  [options]="groups"
                  [showClear]="false"
                  [filter]="true"
                  filterBy="name"
                  optionLabel="name"
                  optionValue="code"
                  placeholder="Select group"
                  formControlName="group"
                ></p-dropdown>
                <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
                  validation: 'required',
                  message: 'Group is required',
                  control: addEmployeeForm.controls['group']
                }"></ng-container>
              </div>
            </div>

          </div>

          <div class="row">
            <div class="col-12 col-md-4 col-lg-3 col-xl-3">
              <div class="fv-row mb-6">
                <label class="required fs-5 fw-bold mb-1">Description</label>
                <p-calendar
                  formControlName="description"
                  [showTime]="true"
                  [showSeconds]="true"
                  dataType="string"
                  placeholder="Select Description"
                  dateFormat="dd-mm-yy"
                ></p-calendar>
                <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
                  validation: 'required',
                  message: 'Birth date is required',
                  control: addEmployeeForm.controls['birthDate']
                }"></ng-container>
              </div>
            </div>
          </div>

          <div class="d-flex justify-content-between">
            <div class="mt-6">
              <button type="button" class="btn btn-danger" (click)="onCancel()"><i class="fas fa-xmark"></i> Cancel</button>
            </div>

            <div class="mt-6">
              <button type="submit" class="btn btn-success" [disabled]="addEmployeeForm.invalid"><i class="fas fa-save"></i> Save</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
<ng-template #formError let-control="control" let-message="message" let-validation="validation">
  <ng-container *ngIf="control.hasError(validation) && (control.dirty || control.touched)">
    <div class="fv-plugins-message-container">
      <span role="alert" class="text-danger">
        {{ message }}
      </span>
    </div>
  </ng-container>
</ng-template>

<p-toast></p-toast>
